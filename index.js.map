{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n// const baseUrl = \"https://pixabay.com/api\";\n// const endPoint = \"/api\";\n\nexport default function searchImages(searchWord) {\n  const options = {\n    params: {\n      key: '48866244-bc210103fc5496976cb537971',\n      q: searchWord,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  };\n\n//   const url = baseUrl + endPoint + `?key=${options.params.key}&q=${options.params.q}&image_type=${options.params.image_type}&orientation=${options.params.orientation}&safesearch=${options.params.safesearch}`;\n  const url = `https://pixabay.com/api/?key=${options.params.key}&q=${options.params.q}&image_type=${options.params.image_type}&orientation=${options.params.orientation}&safesearch=${options.params.safesearch}`;\n\n  return axios.get(url);\n}\n\n\n\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function imagesTemplate(arrPict, tagGallery) {\n    const gallery = document.querySelector(tagGallery);\n    gallery.innerHTML = '';\n  \n    const markup = arrPict.map((image) =>\n      `<li class=\"gallery-item\">\n        <a class='gallery-link' href=\"${image.largeImageURL}\">\n          <img class=\"li-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          <div class=\"li-text\">\n            <table class=\"table\">\n              <tr><td>Likes</td><td>Views</td><td>Comment</td><td>Downloads</td></tr>\n              <tr><td>${image.likes}</td><td>${image.views}</td><td>${image.comments}</td><td>${image.downloads}</td></tr>\n            </table>\n          </div>\n        </a>\n      </li>`\n    ).join(\"\");\n  \n    gallery.insertAdjacentHTML(\"afterbegin\", markup);\n  \n    const lightbox = new SimpleLightbox(tagGallery + \" a\", {\n      captionsData: 'alt',\n      captionDelay: 250,\n      close: true,\n    });\n    lightbox.refresh();\n\n    gallery.addEventListener('click', (e) => {\n        if (e.target.tagName === 'IMG') {\n          lightbox.close(); \n        }\n      });\n  }\n  \n\n\n\n\n","import searchImages from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-function';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#search-input');\nconst waitMessage = document.querySelector(\".wait-msg\");\nconst loadingMessage = document.querySelector(\"#loading-message\");\n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const searchWord = input.value.trim();\n\n  if (!searchWord) {\n    iziToast.show({\n      backgroundColor: 'rgba(239, 64, 64, 1)',\n      messageColor: `rgba(255, 255, 255, 1)`,\n      close: `true`,\n      position: \"topRight\",\n      title: 'Error',\n      titleColor: '#fff',\n      titleSize: '16px',\n      message: 'Input search string'\n    });\n    form.reset();\n    return;\n  }\n\n  loadingMessage.style.display = 'block';\n  \n  searchImages(searchWord)\n    .then(response => {\n        loadingMessage.style.display = 'none'; \n      if (response.data.hits.length === 0) {\n        iziToast.show({\n          backgroundColor: 'rgba(239, 64, 64, 1)',\n          messageColor: `rgba(255, 255, 255, 1)`,\n          close: `true`,\n          position: \"topRight\",\n          title: 'Error',\n          titleColor: '#fff',\n          titleSize: '16px',\n          message: ''\n        });\n      } else {\n        imagesTemplate(response.data.hits, '.gallery');\n      }\n    })\n    .catch(error => {\n        loadingMessage.style.display = 'none';\n      iziToast.show({\n        backgroundColor: 'rgba(239, 64, 64, 1)',\n        messageColor: `rgba(255, 255, 255, 1)`,\n        close: `true`,\n        position: \"topRight\",\n        title: 'Error',\n        titleColor: '#fff',\n        titleSize: '16px',\n        message: 'Sorry, there are no images matching your search query. Please try again'\n      });\n      console.log(error);\n    });\n\n  form.reset();\n}\n\n\n\n\n\n\n\n\n\n\n"],"names":["searchImages","searchWord","options","url","axios","imagesTemplate","arrPict","tagGallery","gallery","markup","image","lightbox","SimpleLightbox","form","input","loadingMessage","onSubmit","e","iziToast","response","error"],"mappings":"owBAKe,SAASA,EAAaC,EAAY,CAC/C,MAAMC,EAAU,CACd,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,EAGQE,EAAM,gCAAgCD,EAAQ,OAAO,GAAG,MAAMA,EAAQ,OAAO,CAAC,eAAeA,EAAQ,OAAO,UAAU,gBAAgBA,EAAQ,OAAO,WAAW,eAAeA,EAAQ,OAAO,UAAU,GAE9M,OAAOE,EAAM,IAAID,CAAG,CACtB,CCjBO,SAASE,EAAeC,EAASC,EAAY,CAChD,MAAMC,EAAU,SAAS,cAAcD,CAAU,EACjDC,EAAQ,UAAY,GAEpB,MAAMC,EAASH,EAAQ,IAAKI,GAC1B;AAAA,wCACkCA,EAAM,aAAa;AAAA,qCACtBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,wBAInDA,EAAM,KAAK,YAAYA,EAAM,KAAK,YAAYA,EAAM,QAAQ,YAAYA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,YAK/G,EAAM,KAAK,EAAE,EAETF,EAAQ,mBAAmB,aAAcC,CAAM,EAE/C,MAAME,EAAW,IAAIC,EAAeL,EAAa,KAAM,CACrD,aAAc,MACd,aAAc,IACd,MAAO,EACb,CAAK,EACDI,EAAS,QAAO,EAEhBH,EAAQ,iBAAiB,QAAU,GAAM,CACjC,EAAE,OAAO,UAAY,OACvBG,EAAS,MAAK,CAExB,CAAO,CACP,CC5BA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAChC,SAAS,cAAc,WAAW,EACtD,MAAMC,EAAiB,SAAS,cAAc,kBAAkB,EAEhEF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhB,MAAMhB,EAAaa,EAAM,MAAM,KAAI,EAEnC,GAAI,CAACb,EAAY,CACfiB,EAAS,KAAK,CACZ,gBAAiB,uBACjB,aAAc,yBACd,MAAO,OACP,SAAU,WACV,MAAO,QACP,WAAY,OACZ,UAAW,OACX,QAAS,qBACf,CAAK,EACDL,EAAK,MAAK,EACV,MACD,CAEDE,EAAe,MAAM,QAAU,QAE/Bf,EAAaC,CAAU,EACpB,KAAKkB,GAAY,CACdJ,EAAe,MAAM,QAAU,OAC7BI,EAAS,KAAK,KAAK,SAAW,EAChCD,EAAS,KAAK,CACZ,gBAAiB,uBACjB,aAAc,yBACd,MAAO,OACP,SAAU,WACV,MAAO,QACP,WAAY,OACZ,UAAW,OACX,QAAS,EACnB,CAAS,EAEDb,EAAec,EAAS,KAAK,KAAM,UAAU,CAErD,CAAK,EACA,MAAMC,GAAS,CACZL,EAAe,MAAM,QAAU,OACjCG,EAAS,KAAK,CACZ,gBAAiB,uBACjB,aAAc,yBACd,MAAO,OACP,SAAU,WACV,MAAO,QACP,WAAY,OACZ,UAAW,OACX,QAAS,yEACjB,CAAO,EACD,QAAQ,IAAIE,CAAK,CACvB,CAAK,EAEHP,EAAK,MAAK,CACZ"}