import{a as f,S as y,i as n}from"./assets/vendor-tnUJPedx.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=a(t);fetch(t.href,e)}})();async function h(o,r=1,a=40){const s={params:{key:"48866244-bc210103fc5496976cb537971",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0}},t=`https://pixabay.com/api/?key=${s.params.key}&q=${s.params.q}&image_type=${s.params.image_type}&orientation=${s.params.orientation}&safesearch=${s.params.safesearch}&page=${r}&per_page=${a}`;return f.get(t)}async function b(o,r){const a=document.querySelector(r);a.innerHTML="",await new Promise(e=>setTimeout(e,0));const s=o.map(e=>`<li class="gallery-item">
        <a class='gallery-link' href="${e.largeImageURL}">
          <img class="li-img" src="${e.webformatURL}" alt="${e.tags}" />
          <div class="li-text">
            <table class="table">
              <tr><td>Likes</td><td>Views</td><td>Comment</td><td>Downloads</td></tr>
              <tr><td>${e.likes}</td><td>${e.views}</td><td>${e.comments}</td><td>${e.downloads}</td></tr>
            </table>
          </div>
        </a>
      </li>`).join("");a.insertAdjacentHTML("afterbegin",s);const t=new y(r+" a",{captionsData:"alt",captionDelay:250,close:!0});await new Promise(e=>setTimeout(e,0)),t.refresh(),a.addEventListener("click",e=>{e.target.tagName==="IMG"&&t.close()})}const w=document.querySelector("#search-form"),S=document.querySelector("#search-input"),$=document.querySelector(".gallery");document.querySelector(".wait-msg");const d=document.querySelector("#loading-message"),l=document.querySelector("#load-more");let u="",i=1;const m=40;let g=0;w.addEventListener("submit",async function(o){if(o.preventDefault(),u=S.value.trim(),!u){n.show({backgroundColor:"rgba(239, 64, 64, 1)",messageColor:"rgba(255, 255, 255, 1)",close:"true",position:"topRight",title:"Error",titleColor:"#fff",titleSize:"16px",message:"Input search string"});return}$.innerHTML="",i=1,l.style.display="none",await p()});async function p(){d.style.display="block";try{const o=await h(u,i,m);if(d.style.display="none",o.data.hits.length===0){n.show({backgroundColor:"rgba(239, 64, 64, 1)",messageColor:"rgba(255, 255, 255, 1)",close:"true",position:"topRight",title:"Error",titleColor:"#fff",titleSize:"16px",message:"Sorry, there are no images matching your search query. Please try again"});return}g=o.data.totalHits,console.log(`Total images available: ${g}`),console.log(`Images received: ${o.data.hits.length}`),b(o.data.hits,".gallery"),i+=1,i*m>=g?(l.style.display="none",i>1&&n.show({backgroundColor:"rgba(239, 64, 64, 1)",messageColor:"rgba(255, 255, 255, 1)",close:!0,position:"topRight",title:"Info",titleColor:"#fff",titleSize:"16px",message:"We're sorry, but you've reached the end of search results."})):l.style.display="block",L()}catch(o){d.style.display="none",console.error(o),n.show({backgroundColor:"rgba(239, 64, 64, 1)",messageColor:"rgba(255, 255, 255, 1)",close:!0,position:"topRight",title:"Error",titleColor:"#fff",titleSize:"16px",message:"Sorry, there was an error fetching images. Please try again."})}}l.addEventListener("click",async function(){await p()});function L(){const o=document.querySelector(".gallery img");if(o){const r=o.getBoundingClientRect().height;window.scrollBy({top:r*2,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
